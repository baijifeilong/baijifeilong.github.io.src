---
title: Java大杂烩
categories:
  - Programming
tags:
  - Programming
date: 2018-12-02 14:46:36
---

# Java大杂烩

## InputStream转String

`new Scanner(InputStream).useDelimiter("\\A").next()`

<!--more-->

## Java列表分组并去重

例:

```java
package bj;

import org.apache.commons.lang3.tuple.Pair;

import java.util.Arrays;
import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

/**
 * Created by BaiJiFeiLong@gmail.com at 2018/12/7 上午10:05
 */
public class FooTest {

    public static void main(String[] args) {
        List<Pair<Integer, String>> list = Arrays.asList(
                Pair.of(1, "login"),
                Pair.of(1, "logout"),
                Pair.of(2, "login"),
                Pair.of(2, "logout"),
                Pair.of(3, "logout")
        );
        Map<Integer, Pair<Integer, String>> map = list.stream().collect(Collectors.groupingBy(Pair::getLeft, Collectors.reducing(Pair.of(0, null), (early, late) -> late)));
        System.out.println(map);
    }
}
```

输出:

```
{1=(1,logout), 2=(2,logout), 3=(3,logout)}
```

## Java遍历文件夹，包括子文件夹，并用Glob处理

```java
import java.nio.file.FileSystems
import java.nio.file.Files
import java.nio.file.Paths

fun main(args: Array<String>) {
    val matcher = FileSystems.getDefault().getPathMatcher("glob:**.{wma,mp3}")
    Files.walk(Paths.get("/mnt/d/music/test"))
            .filter { Files.isRegularFile(it) }
            .forEach { println(it) }
}
```

文章首发: [https://baijifeilong.github.io](https://baijifeilong.github.io)
